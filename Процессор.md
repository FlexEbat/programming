


Процессор состоит из:
1. <mark style="background: #FF5582A6;">**ALU</mark> (арифметико-логическое устройство)** — блок [процессора](https://ru.wikipedia.org/wiki/%D0%A6%D0%B5%D0%BD%D1%82%D1%80%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D1%80 "Центральный процессор"), который под управлением [устройства управления](https://ru.wikipedia.org/wiki/%D0%A3%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%BE_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F "Устройство управления") служит для выполнения арифметических и логических преобразований; делает сложение, вычитание, логические операции.
2. <mark style="background: #FFB8EBA6;">**CU</mark> (устройство управления)** —  компонент центрального процессора, который принимает, декодирует и транслирует команды в управляющие сигналы для других блоков процессора (памяти, арифметико-логического устройства и периферии)
CU обеспечивает порядок операций в цикле «загрузка-декодирование-выполнение», гарантируя, что результаты одной инструкции станут входными данными для следующей; читает инструкции из памяти, координирует все остальные блоки.
Это блок, отвечающий за координацию и управление выполнением команд. Проще говоря, оно **не** выполняет сами вычисления, а **дирижирует** работой остальных частей CPU: АЛУ, памяти и I/O-модулей
 Основные функции CU
- **Декодирование инструкций**: переводит машинный код в микропро­граммы или сигналы для АЛУ и шин данных 
- **Управление потоками данных**: организует передачу данных между регистрами, кэшем, ОЗУ и устройствами ввода-вывода
- **Синхронизация**: контролирует тактовые сигналы и обеспечивает корректную очередь команд в конвейере
 Наиболее наглядные аналогии CU
- **Дирижёр оркестра**  
    CU не «играет» ни на одном инструменте (не выполняет арифметику), но **дирижирует** всей симфонией вычислений, точно подавая сигналы другим блокам, когда и что им делать 
- **Мозг процессора**  
    Подобно тому как мозг координирует работу тела, CU «решает», какую операцию выполнить следующей, управляя потоками данных и приоритетами 
- **Диспетчер дорожного движения**  
    CU — как светофор на перекрёстке данных: направляет пакеты команд и данных по шинам, не давая «пробок» и коллизий между компонентами CPU 

3. <mark style="background: #BBFABBA6;">**Регистры**</mark> — Если CU — дирижёр, то регистры — это его _оперативная память_, где хранятся «мысли» прямо перед тем, как их исполнить. Это ближайшее место хранения данных, доступное **немедленно**.
Регистры — это как блокнот у киллера: быстро записал цель, выстрелил, забыл. Или как карман у шахматного гроссмейстера: влезает только нужная фигура для следующего хода.
**Типы регистров:**
- **General Purpose Registers** – для переменных, счётчиков, всего по мелочи.
- **Program Counter (PC)** – указывает, где следующая инструкция.
- **Instruction Register (IR)** – содержит текущую инструкцию.
- **Flags Register** – флаги результата: ноль? отрицательное? переполнение?
				**Скорость?**   Быстрее не бывает. Они внутри самого ядра, ближе быть не может. Работа с регистрами занимает **1 такт**.

4. <mark style="background: #ADCCFFA6;">**Кэш L1/L2/L3**</mark> — промежуточный [буфер](https://ru.wikipedia.org/wiki/%D0%91%D1%83%D1%84%D0%B5%D1%80_\(%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0\) "Буфер (информатика)") с быстрым доступом к нему, содержащий информацию, которая может быть запрошена с наибольшей вероятностью. Доступ к данным в кэше осуществляется быстрее, чем выборка исходных данных из более медленной памяти или удалённого источника, однако её объём существенно ограничен по сравнению с хранилищем исходных данных. Трёхуровневая система скорости. Чем ближе к ядру — тем быстрее.
**L1 Cache**
- Самый быстрый, самый маленький.
- Прямо в ядре. Делится на _инструкции_ и _данные_.
- 32-64 KB обычно.
- **Аналогия:** мозг под рукой. Мгновенные воспоминания.
 **L2 Cache**
- Медленнее L1, но больше (256 KB – 1 MB).
- Может быть на ядро или общий.
- **Аналогия:** как блокнот в твоем рюкзаке — чуть дольше достать, но всё ещё под рукой.
 **L3 Cache**
- Медленный, большой (4 MB – 64 MB).
- Общий для всех ядер.
- **Аналогия:** это уже кладовка в подвале. Реже нужен, но спасает жопу, если остальные кэши в пролёте.
**Промах кэша** = процессор вынужден ждать RAM.  
А это — как стоять в очереди в госуслугах: медленно, больно, унизительно.

5. <mark style="background: #D2B3FFA6;">**Шина (bus)**</mark> — Внутри компьютера всё связано: данные, адреса, команды. Чтобы не устроить шизофрению, есть **шина** — общее шоссе, по которому всё это носится.
 Типы шин
- **Data Bus** – передаёт данные.
- **Address Bus** – указывает, куда данные отправить или откуда читать.
- **Control Bus** – сигналы, когда передавать, что считать, что писать.
Если шина узкая или перегружена — всё тормозит, вся система блюёт на себя от боли.

6. <mark style="background: #FFB86CA6;">**Ядра и потоки**</mark>:
Ядро — это как самостоятельный человек с мозгом (CU) и руками (ALU). Чем больше ядер — тем больше бойцов в армии процессора.
***Каждое ядро имеет:***
- Собственный набор регистров.
- L1, часто L2 кэш.
- CU + ALU.
- Может исполнять отдельный поток или процесс.

Если ядра — физические тела, то потоки — это логические маски. Один человек может делать **два дела одновременно**, если у него раздвоение личности.

### Поток (thread)
- Наименьшая единица выполнения.
- Может быть _реальным_ (на отдельном ядре) или _логическим_ (Hyper-Threading/SMT).
**Hyper-Threading (SMT)** — одна башка, две личности. Одно ядро делает вид, что оно два, чтобы не простаивать, когда ждёт данные из памяти.
После включения гиперпоточности одно физическое [процессорное ядро](https://ru.wikipedia.org/wiki/%D0%AF%D0%B4%D1%80%D0%BE_%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D1%80%D0%B0 "Ядро процессора") определяется [операционной системой](https://ru.wikipedia.org/wiki/%D0%9E%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0 "Операционная система") как два отдельных логических ядра.
